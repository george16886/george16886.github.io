<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>30-Day LeetCoding Challenge 2020 April Week 4 | george16886's blog</title><meta name="keywords" content="30-Day-LeetCoding-Challenge,Leetcode,Solution,leetcode-practice,leetcode-cpp,Notes,cpp,cplusplus,筆記,哩叩,哩哩叩叩,教學,解答,解題過程,想法,台灣,Taiwan,Visual-Studio-Code,Ubuntu,ubuntu1604,leetcode-solution,solutions,george16886,nothing-but-everything,C++,leetcode-C++"><meta name="author" content="george16886,george16886@gmail.com"><meta name="copyright" content="george16886"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="本週題目   Subarray Sum Equals K  Bitwise AND of Numbers Range  LRU Cache  Jump Game  Longest Common Subsequence  Maximal Square  First Unique Number            Subarray Sum Equals K Given an array of int"><meta property="og:type" content="article"><meta property="og:title" content="30-Day LeetCoding Challenge 2020 April Week 4"><meta property="og:url" content="https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/index.html"><meta property="og:site_name" content="george16886&#39;s blog"><meta property="og:description" content="本週題目   Subarray Sum Equals K  Bitwise AND of Numbers Range  LRU Cache  Jump Game  Longest Common Subsequence  Maximal Square  First Unique Number            Subarray Sum Equals K Given an array of int"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://george16886.github.io/uploads/images/posts/LeetCode_Sharing.jpg"><meta property="article:published_time" content="2020-04-23T12:20:04.000Z"><meta property="article:modified_time" content="2020-05-04T12:03:24.000Z"><meta property="article:author" content="george16886"><meta property="article:tag" content="Leetcode"><meta property="article:tag" content="Solutions"><meta property="article:tag" content="Challenge"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://george16886.github.io/uploads/images/posts/LeetCode_Sharing.jpg"><meta property="fb:app_id" content="fb-root"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin="crossorigin"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="manifest" href="/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/uploads/images/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/uploads/images/icons/icon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/uploads/images/icons/icon-16x16.png"><link rel="mask-icon" href="/uploads/images/icons/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-1734139800191103",enable_page_level_ads:"false"})</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-100797243-6"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-100797243-6")</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Josefin+Sans"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.1.1',
  algolia: {"appId":"Y7QQSP8NGZ","apiKey":"c9720bca2cc337ec36ccca5011e61471","indexName":"george16886","hits":{"per_page":6},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"簡","msgToSimplifiedChinese":"繁"},
  noticeOutdate: {"limitDay":30,"position":"top","message_title":"Article validity tips","message_prev":"This article was created","message_mid":"days ago and","message_next":"days since the last update, some information might be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: george16886","link":"Link: ","source":"Source: george16886's blog","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  ClickShowText: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","config_set":"Page Configurations Set","config_unset":"Page Configuration Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isSidebar:!0,postUpdate:"2020-05-04 20:03:24",postCreate:"2020-04-23 20:20:04"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>var activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")},autoChangeMode="1",t=saveToLocal.get("theme");if("1"===autoChangeMode){var isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,isLightMode=window.matchMedia("(prefers-color-scheme: light)").matches,isNotSpecified=window.matchMedia("(prefers-color-scheme: no-preference)").matches,hasNoSupport=!isDarkMode&&!isLightMode&&!isNotSpecified;if(void 0===t){if(isLightMode)activateLightMode();else if(isDarkMode)activateDarkMode();else if(isNotSpecified||hasNoSupport){var now=new Date,hour=now.getHours(),isNight=hour<=6||18<=hour;isNight?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())})}else"light"===t?activateLightMode():activateDarkMode()}else"2"===autoChangeMode?(isNight=(hour=(now=new Date).getHours())<=6||18<=hour,void 0===t?isNight?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode()):"dark"===t?activateDarkMode():"light"===t&&activateLightMode()</script><link rel="stylesheet" href="/css/george16886.min.css"><meta name="generator" content="Hexo 5.1.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://i.imgur.com/tV625Tob.jpg" onerror="onerror=null,src="https://i.imgur.com/EoXMnal.gif"" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">15</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">24</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">13</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-seedling"></i><span> Menu</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-paper-plane"></i><span> Archives</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> Random</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-rocket"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-mug-hot"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/info/"><i class="fa-fw fas fa-chart-bar"></i><span> Info</span></a></div><div class="menus_item"><a class="site-page" href="/footprints/"><i class="fa-fw fas fa-paw"></i><span> Footprints</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Subarray-Sum-Equals-K"><span class="toc-number">1.</span> <span class="toc-text">Subarray Sum Equals K</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1"><span class="toc-number">1.1.</span> <span class="toc-text">Solution 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-2"><span class="toc-number">1.2.</span> <span class="toc-text">Solution 2</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bitwise-AND-of-Numbers-Range"><span class="toc-number">2.</span> <span class="toc-text">Bitwise AND of Numbers Range</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1-Time-Limit-Exceeded"><span class="toc-number">2.1.</span> <span class="toc-text">Solution 1 (Time Limit Exceeded)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-2-1"><span class="toc-number">2.2.</span> <span class="toc-text">Solution 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-3"><span class="toc-number">2.3.</span> <span class="toc-text">Solution 3</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LRU-Cache"><span class="toc-number">3.</span> <span class="toc-text">LRU Cache</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">3.1.</span> <span class="toc-text">Solution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Jump-Game"><span class="toc-number">4.</span> <span class="toc-text">Jump Game</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1-1"><span class="toc-number">4.1.</span> <span class="toc-text">Solution 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-2-2"><span class="toc-number">4.2.</span> <span class="toc-text">Solution 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-3-1"><span class="toc-number">4.3.</span> <span class="toc-text">Solution 3</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Longest-Common-Subsequence"><span class="toc-number">5.</span> <span class="toc-text">Longest Common Subsequence</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1"><span class="toc-number">5.1.</span> <span class="toc-text">Solution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maximal-Square"><span class="toc-number">6.</span> <span class="toc-text">Maximal Square</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1-2"><span class="toc-number">6.1.</span> <span class="toc-text">Solution 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-2-3"><span class="toc-number">6.2.</span> <span class="toc-text">Solution 2</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#First-Unique-Number"><span class="toc-number">7.</span> <span class="toc-text">First Unique Number</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-1-Time-Limit-Exceeded-1"><span class="toc-number">7.1.</span> <span class="toc-text">Solution 1 (Time Limit Exceeded)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-2-4"><span class="toc-number">7.2.</span> <span class="toc-text">Solution 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution-3-2"><span class="toc-number">7.3.</span> <span class="toc-text">Solution 3</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image:url(/uploads/images/posts/leetcode.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">george16886's blog</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-seedling"></i><span> Menu</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-paper-plane"></i><span> Archives</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fas fa-random"></i><span> Random</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-rocket"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-mug-hot"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/info/"><i class="fa-fw fas fa-chart-bar"></i><span> Info</span></a></div><div class="menus_item"><a class="site-page" href="/footprints/"><i class="fa-fw fas fa-paw"></i><span> Footprints</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">30-Day LeetCoding Challenge 2020 April Week 4</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2020-04-23T12:20:04.000Z" title="Created 2020-04-23 20:20:04">2020-04-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2020-05-04T12:03:24.000Z" title="Updated 2020-05-04 20:03:24">2020-05-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/LeetCode/">LeetCode</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/LeetCode/30-Day-LeetCoding-Challenge/">30-Day LeetCoding Challenge</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">4.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time≈:</span><span>21min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-4/#post-comment-md" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/30-Day-LeetCoding-Challenge-2020-April-Week-4/" itemprop="commentCount"></span></a></span></div></div></div></header><div id="pace"></div><main class="layout_post" id="content-inner"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Leetcode/">Leetcode</a><a class="post-meta__tags" href="/tags/Solutions/">Solutions</a><a class="post-meta__tags" href="/tags/Challenge/">Challenge</a></div></div><article id="post"><div class="post-content" id="article-container"><div class="note info flat"><p><strong>本週題目</strong></p><ol><li><a href="#Subarray-Sum-Equals-K">Subarray Sum Equals K</a></li><li><a href="#Bitwise-AND-of-Numbers-Range">Bitwise AND of Numbers Range</a></li><li><a href="#LRU-Cache">LRU Cache</a></li><li><a href="#Jump-Game">Jump Game</a></li><li><a href="#Longest-Common-Subsequence">Longest Common Subsequence</a></li><li><a href="#Maximal-Square">Maximal Square</a></li><li><a href="#First-Unique-Number">First Unique Number</a></li></ol></div><br><hr><h1 id="Subarray-Sum-Equals-K"><a href="#Subarray-Sum-Equals-K" class="headerlink" title="Subarray Sum Equals K"></a>Subarray Sum Equals K</h1><blockquote><p>Given an array of integers and an integer k, you need to find the total number of continuous subarrays whose sum equals to k.</p><p>Example 1:<br>Input:nums = [1,1,1], k = 2<br>Output: 2</p><p>Note:<br>The length of the array is in range [1, 20,000].<br>The range of numbers in the array is [-1000, 1000] and the range of the integer k is [-1e7, 1e7].</p><p>Hint #1<br>Will Brute force work here? Try to optimize it.</p><p>Hint #2<br>Can we optimize it by using some extra space?</p><p>Hint #3<br>What about storing sum frequencies in a hash table? Will it be useful?</p><p>Hint #4<br>sum(i,j)=sum(0,j)-sum(0,i), where sum(i,j) represents the sum of all the elements from index i to j-1. Can we use this property to optimize it.</p></blockquote><h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution 1"></a>Solution 1</h2><ul><li>直接暴力法竟然過了！<ul><li>在每個位置上遍歷不同長度的子數列，若子數列總和為 k 則累加。</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; nums.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                sum += nums[j];</span><br><span class="line">                ans += (sum == k);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution 2"></a>Solution 2</h2><ul><li>題目提示希望我們使用 <strong>hash table</strong>。</li></ul><ol><li>建一個 hashmap 紀錄各總和出現的次數。</li><li>根據 <strong><em>Hint #4</em></strong>，我們利用 <code>sum(i,j)=sum(0,j)-sum(0,i)</code> 的特性 -&gt; <strong>子數列和為 <code>sum - k</code> 若存在，則必存在和為 <code>k</code> 的子數列</strong>。</li><li>因此我們累加 <code>sum - k</code> 出現的次數，總和第一次出現 <code>k</code> 的狀況利用初始化<strong>總和為 0 出現一次 =&gt; <code>hmap[0] = 1</code></strong> 解決。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; hmap;</span><br><span class="line">        hmap[<span class="number">0</span>]++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            ans += hmap[sum - k];</span><br><span class="line">            hmap[sum]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><h1 id="Bitwise-AND-of-Numbers-Range"><a href="#Bitwise-AND-of-Numbers-Range" class="headerlink" title="Bitwise AND of Numbers Range"></a>Bitwise AND of Numbers Range</h1><blockquote><p>Given a range [m, n] where 0 &lt;= m &lt;= n &lt;= 2147483647, return the bitwise AND of all numbers in this range, inclusive.</p><p>Example 1:<br>Input: [5,7]<br>Output: 4</p><p>Example 2:<br>Input: [0,1]<br>Output: 0</p></blockquote><h2 id="Solution-1-Time-Limit-Exceeded"><a href="#Solution-1-Time-Limit-Exceeded" class="headerlink" title="Solution 1 (Time Limit Exceeded)"></a>Solution 1 (Time Limit Exceeded)</h2><ul><li>暴力解失敗。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = m, i = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= n)</span><br><span class="line">            ans &amp;= i++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-2-1"><a href="#Solution-2-1" class="headerlink" title="Solution 2"></a>Solution 2</h2><ol><li>觀察一下 <strong>bitwise AND</strong> 在連續整數下的特性，將數轉為二進制來看，因為連續整數每次加 1，會自 <strong>LSB (Least Significant Bit)</strong> 不斷進位，凡是有出現過 0 的位置其 bitwise AND 的結果就一定是 0 -&gt; 同理就是取 <strong>MSB (Most Significant Bit)</strong> 相同的 bit 數，其餘為 0。<br>從 <em>Example 1</em> 觀察：<br>– <em>10’d5 = 2’b<strong>1</strong>01, 10’d6 = 2’b<strong>1</strong>10, 10’d7 = 2’b<strong>1</strong>11 -&gt; 2’b<strong>1</strong>00 = 10’d4</em></li><li>於是，我們將邊界的兩個數不斷的右移一個位元（或除以 2）直到兩數相等為止（一樣的MSB），並紀錄右移的位數。</li><li>最後，將較小的數再左移回去即為所求。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (m != n) &#123;</span><br><span class="line">            m &gt;&gt;= <span class="number">1</span>;  <span class="comment">// m /= 2;</span></span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;  <span class="comment">// n /= 2;</span></span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> m &lt;&lt; cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution 3"></a>Solution 3</h2><ol><li>我們將 <code>n</code> 和 <code>n-1</code> 做 bitwise AND，一路做到 <code>n &lt;= m</code>。</li><li><code>n</code> 和 <code>n-1</code> 做 bitwise AND，其實就是把 <code>n</code> 最右邊位置（LSB）的 1 給丟掉，舉幾個例子：<br>ex. _10’d3 = 2’b01<strong>1</strong>, 10’d2 = 2’b010 -&gt; 2’b010 = 10’d2_，n: 3 -&gt; 2。<br>ex. _10’d2 = 2’b0<strong>1</strong>0, 10’d1 = 2’b001 -&gt; 2’b000 = 10’d0_，n: 2 -&gt; 0。<br>ex. _10’d4 = 2’b<strong>1</strong>00, 10’d3 = 2’b011 -&gt; 2’b000 = 10’d0_，n: 4 -&gt; 0。</li><li>注意這做法和 <strong>Solution 1</strong> 暴力解是不同的，一路做 bitwise AND，並不會遍歷整個區間內所有的數，收斂的速度會比暴力解快上不少。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; m)</span><br><span class="line">            n &amp;= n--;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><h1 id="LRU-Cache"><a href="#LRU-Cache" class="headerlink" title="LRU Cache"></a>LRU Cache</h1><blockquote><p>Design and implement a data structure for Least Recently Used (LRU) cache. It should support the following operations: get and put.</p><p>get(key) - Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.<br>put(key, value) - Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.</p><p>The cache is initialized with a positive capacity.</p><p>Follow up:<br>Could you do both operations in O(1) time complexity?</p><p>Example:<br>LRUCache cache = new LRUCache( 2 /* capacity */ );</p><p>cache.put(1, 1);<br>cache.put(2, 2);<br>cache.get(1); // returns 1<br>cache.put(3, 3); // evicts key 2<br>cache.get(2); // returns -1 (not found)<br>cache.put(4, 4); // evicts key 1<br>cache.get(1); // returns -1 (not found)<br>cache.get(3); // returns 3<br>cache.get(4); // returns 4</p></blockquote><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><ul><li>Follow up: <code>time complexity = O(1)</code>。</li></ul><ol><li>顯然又是一題要用 hashmap 解決的問題，但這邊不一樣的是，我們在 hashmap 中保存 key 以及其對應的 <a href="../c-iterator-notes"><code>list::iterator</code></a>。</li><li>接著建一個 list 保存 key-value 指令，並維持最常用的指令放在 list 的最前面（<code>operationList.begin()</code>）。</li><li>先考慮 put 的實現：<br>– 若 key 已經存在，先將這個 key 對應到的 key-value 指令從 list 中移除。<br>– 若 cache 已滿，找出在 list 最後面（<code>operationList.rbegin()</code>）的 key，從 hashmap 中移除，並移除 list 最後面的指令（<code>pop_back()</code>）。注意這裡指向 list 最後面的是 rbegin 而不是 end，end 是指向最後一個元素的下一個位置。<br>– 最後把新增的 key-value 指令放在 list 的最前面（<code>push_front(make_pair(key, value))</code>），並加入 hashmap 中。</li><li>get 的實現就直覺多了：<br>– 檢查 hashmap，如果 key 不存在 =&gt; 回傳 -1。<br>– 存在的話我們利用 <a href="../c-list-notes">list</a> 的 <a href="../c-list-notes/#splice-函數">splice() 函數</a>，把 key 對應到的 key-value 指令放到 list 的最前面（<code>operationList.begin()</code>），並回傳對應的 value。</li></ol><ul><li>這題學到了兩個新東西：<ul><li><a href="../c-list-notes">list</a> 的 <a href="../c-list-notes/#splice-函數">splice() 函數</a></li><li><a href="../c-iterator-notes">iterator</a></li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; operationList;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;<span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;::iterator&gt; hmap;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    LRUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        cap = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!hmap.count(key)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">auto</span> operation = hmap.<span class="built_in">find</span>(key)-&gt;second;</span><br><span class="line">        operationList.splice(operationList.<span class="built_in">begin</span>(), operationList, operation);</span><br><span class="line">        <span class="keyword">return</span> operation-&gt;second;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hmap.count(key))</span><br><span class="line">            operationList.erase(hmap.<span class="built_in">find</span>(key)-&gt;second);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (operationList.<span class="built_in">size</span>() == cap) &#123;</span><br><span class="line">            <span class="keyword">int</span> keyLRU = operationList.rbegin()-&gt;first;</span><br><span class="line">            hmap.erase(keyLRU);</span><br><span class="line">            operationList.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        operationList.push_front(<span class="built_in">make_pair</span>(key, value));</span><br><span class="line">        hmap[key] = operationList.<span class="built_in">begin</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><h1 id="Jump-Game"><a href="#Jump-Game" class="headerlink" title="Jump Game"></a>Jump Game</h1><blockquote><p>Given an array of non-negative integers, you are initially positioned at the first index of the array.</p><p>Each element in the array represents your maximum jump length at that position.</p><p>Determine if you are able to reach the last index.</p><p>Example 1:<br>Input: [2,3,1,1,4]<br>Output: true<br>Explanation: Jump 1 step from index 0 to 1, then 3 steps to the last index.</p><p>Example 2:<br>Input: [3,2,1,0,4]<br>Output: false<br>Explanation: You will always arrive at index 3 no matter what. Its maximum<br>jump length is 0, which makes it impossible to reach the last index.</p></blockquote><h2 id="Solution-1-1"><a href="#Solution-1-1" class="headerlink" title="Solution 1"></a>Solution 1</h2><ul><li><strong>貪婪演算法 <em>Greedy algorithm</em></strong> 的做法：</li></ul><ol><li>因為數值代表你可以跳的<strong>最遠距離</strong>，我們最後一步是可以跳超過的。</li><li>使用貪婪演算法，算出每一個可以抵達的位置最遠可以跳的距離：<ul><li>用一個變數 maxJump 代表目前跳力，初始為 0。</li><li>接著檢查每個位置，如果可以抵達，則將跳力更新。</li><li>最後檢查最終跳力是否可以抵達或超過最後一個位置。</li></ul></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canJump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxJump = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt;= maxJump)</span><br><span class="line">                maxJump = <span class="built_in">max</span>(nums[i] + i, maxJump);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (maxJump &gt;= n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-2-2"><a href="#Solution-2-2" class="headerlink" title="Solution 2"></a>Solution 2</h2><ul><li><strong>Solution 1</strong> 加入判斷若當前跳力可以抵達或超過最後一個位置，則回傳 true。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canJump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxJump = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (maxJump &gt;= n - <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &lt;= maxJump)</span><br><span class="line">                maxJump = <span class="built_in">max</span>(nums[i] + i, maxJump);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (maxJump &gt;= n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-3-1"><a href="#Solution-3-1" class="headerlink" title="Solution 3"></a>Solution 3</h2><ul><li>動態規劃 <strong>DP (<em>Dynamic Programming</em>)</strong> 的做法：</li></ul><ol><li>我們紀錄每個位置的剩餘跳力，一路更新。更新的規則為，每個位置的剩餘跳力等於前一個位置的<strong>剩餘跳力</strong>或<strong>新跳力</strong>的較大值減 1。</li><li>因為在前一位置有可能原本剩餘的跳力較大或獲得新的跳力補給，所以更新成較大值；而每次往前一步就會消耗掉一格跳力，所以減 1。</li><li>一旦在某個位置上的剩餘跳力為負值，表示無法抵達該位置 =&gt; 回傳 false。</li><li>若能夠完成遍歷數列，表示在最後一個位置上的剩餘跳力仍然大於等於 0，可以抵達 =&gt; 回傳 true。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canJump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>], nums[i - <span class="number">1</span>]) - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (dp[i] &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><hr><h1 id="Longest-Common-Subsequence"><a href="#Longest-Common-Subsequence" class="headerlink" title="Longest Common Subsequence"></a>Longest Common Subsequence</h1><blockquote><p>Given two strings text1 and text2, return the length of their longest common subsequence.</p><p>A subsequence of a string is a new string generated from the original string with some characters(can be none) deleted without changing the relative order of the remaining characters. (eg, “ace” is a subsequence of “abcde” while “aec” is not). A common subsequence of two strings is a subsequence that is common to both strings.</p><p>If there is no common subsequence, return 0.</p><p>Example 1:<br>Input: text1 = “abcde”, text2 = “ace”<br>Output: 3<br>Explanation: The longest common subsequence is “ace” and its length is 3.</p><p>Example 2:<br>Input: text1 = “abc”, text2 = “abc”<br>Output: 3<br>Explanation: The longest common subsequence is “abc” and its length is 3.</p><p>Example 3:<br>Input: text1 = “abc”, text2 = “def”<br>Output: 0<br>Explanation: There is no such common subsequence, so the result is 0.</p><p>Constraints:<br>1 &lt;= text1.length &lt;= 1000<br>1 &lt;= text2.length &lt;= 1000<br>The input strings consist of lowercase English characters only.</p><p>Hint #1<br>Try dynamic programming. DP[i][j] represents the longest common subsequence of text1[0 … i] &amp; text2[0 … j].</p><p>Hint #2<br>DP[i][j] = DP[i - 1][j - 1] + 1 , if text1[i] == text2[j] DP[i][j] = max(DP[i - 1][j], DP[i][j - 1]) , otherwise</p></blockquote><h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h2><ul><li>根據 <strong><em>Hint #1</em></strong> 使用動態規劃 <strong>DP (<em>Dynamic Programming</em>)</strong> 的做法：</li></ul><ol><li>經典的<strong>二維</strong>動態規劃題型，建立一個二維陣列 <code>dp[i][j]</code>，用來紀錄到目前位置兩字串的最長共同長度。</li><li>我們必須初始化邊界的條件，因為 <code>dp[i][0]</code> 和 <code>dp[0][j]</code> 都代表其中一個字串為空，因此需要初始為 0。這也造成到位置 <code>(i, j)</code> 時其實是將兩字串的最長共同長度紀錄在 <code>dp[i+1][j+1]</code>。<ul><li>若兩個字母相同，則更新為左上方的值加 1，將最長共同長度加 1。</li><li>若兩個字母不同，則取上面和左邊的較大值，以維持最長共同長度。</li></ul></li></ol><ul><li>從 <em>Example 1</em> 的 DP table 觀察：<table><thead><tr><th align="center"></th><th align="center">i</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th></tr></thead><tbody><tr><td align="center"><strong>j</strong></td><td align="center"></td><td align="center"><strong>a</strong></td><td align="center"><strong>b</strong></td><td align="center"><strong>c</strong></td><td align="center"><strong>d</strong></td><td align="center"><strong>e</strong></td><td align="center"></td></tr><tr><td align="center"><strong>0</strong></td><td align="center"><strong>a</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center"><strong>1</strong></td><td align="center"><strong>c</strong></td><td align="center">0</td><td align="center"><strong><em>1</em></strong></td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center"><strong>2</strong></td><td align="center"><strong>e</strong></td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center"><strong><em>2</em></strong></td><td align="center">2</td><td align="center">2</td></tr><tr><td align="center"><strong>3</strong></td><td align="center"></td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">2</td><td align="center">2</td><td align="center"><strong><em>3</em></strong></td></tr></tbody></table></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(<span class="built_in">string</span> text1, <span class="built_in">string</span> text2)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">dp</span><span class="params">(text1.<span class="built_in">size</span>() + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(text2.<span class="built_in">size</span>() + <span class="number">1</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= text1.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= text2.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (text1[i - <span class="number">1</span>] == text2[j - <span class="number">1</span>])</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[text1.<span class="built_in">size</span>()][text2.<span class="built_in">size</span>()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><h1 id="Maximal-Square"><a href="#Maximal-Square" class="headerlink" title="Maximal Square"></a>Maximal Square</h1><blockquote><p>Given a 2D binary matrix filled with 0’s and 1’s, find the largest square containing only 1’s and return its area.</p><p>Example:<br>Input:<br>1 0 1 0 0<br>1 0 1 1 1<br>1 1 1 1 1<br>1 0 0 1 0<br>Output: 4</p></blockquote><h2 id="Solution-1-2"><a href="#Solution-1-2" class="headerlink" title="Solution 1"></a>Solution 1</h2><ul><li>暴力解，遍歷所有可能為正方形的情形。</li></ul><ol><li>從最大有可能的正方形找起，判斷是否為都是 1 的正方形，方法是透過尋找正方形內是否含有 0 來檢查。</li><li>同個面積在不同位置上的正方形檢查完後，找面積比較小的情形。</li><li>若找到想要的正方形，回傳面積，都沒找到則回傳 0。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximalSquare</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!matrix.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n = <span class="built_in">min</span>(matrix.<span class="built_in">size</span>(), matrix[<span class="number">0</span>].<span class="built_in">size</span>());</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt;= matrix[<span class="number">0</span>].<span class="built_in">size</span>() - n; x++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt;= matrix.<span class="built_in">size</span>() - n; y++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (squareCheck(matrix, x, y, n))</span><br><span class="line">                        <span class="keyword">return</span> n * n;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">squareCheck</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (matrix[y + j][x + i] == <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-2-3"><a href="#Solution-2-3" class="headerlink" title="Solution 2"></a>Solution 2</h2><ul><li>動態規劃 <strong>DP (<em>Dynamic Programming</em>)</strong> 的做法：</li></ul><ol><li><strong>二維</strong>動態規劃題型，建立一個二維陣列 <code>dp[row][col]</code>，表示到目前位置所能形成之最大有效正方形的邊長。</li><li>先初始化邊界值，因為邊界形成的正方形邊長不可能超過 1，所以其實就是原本 2D binary matrix 的值。</li><li>接著尋找規則，因為必須左上、上面、左邊以及自身都是 1 才能形成有效正方形，所以我們在自身為 1 時，更新為左上、上面、左邊三者的最小值。</li><li>需另外用一個變數來紀錄全域性的正方形邊長最大值，最後回傳這個邊長的平方即為所求。</li></ol><ul><li>從 <em>Example</em> 的 DP table 觀察：<table><thead><tr><th align="center"></th><th align="center">i</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th></tr></thead><tbody><tr><td align="center"><strong>j</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>0</strong></td><td align="center"></td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center"><strong>1</strong></td><td align="center"></td><td align="center">1</td><td align="center">0</td><td align="center"><strong>1</strong></td><td align="center"><strong>1</strong></td><td align="center">1</td></tr><tr><td align="center"><strong>2</strong></td><td align="center"></td><td align="center">1</td><td align="center">1</td><td align="center"><strong>1</strong></td><td align="center"><strong><em>2</em></strong></td><td align="center">1</td></tr><tr><td align="center"><strong>3</strong></td><td align="center"></td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td></tr></tbody></table></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximalSquare</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> rows = matrix.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> cols = matrix[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">dp</span><span class="params">(rows, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(cols))</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">0</span>; row &lt; rows; row++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; cols; col++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!row || !col)</span><br><span class="line">                    dp[row][col] = (matrix[row][col] == <span class="string">&#x27;1&#x27;</span>) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (matrix[row][col] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">                    dp[row][col] = <span class="built_in">min</span>(dp[row - <span class="number">1</span>][col - <span class="number">1</span>], <span class="built_in">min</span>(dp[row][col - <span class="number">1</span>], dp[row - <span class="number">1</span>][col])) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                maxLength = <span class="built_in">max</span>(maxLength, dp[row][col]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> maxLength * maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><h1 id="First-Unique-Number"><a href="#First-Unique-Number" class="headerlink" title="First Unique Number"></a>First Unique Number</h1><blockquote><p>You have a queue of integers, you need to retrieve the first unique integer in the queue.</p><p>Implement the FirstUnique class:</p><pre><code>FirstUnique(int[] nums) Initializes the object with the numbers in the queue.
int showFirstUnique() returns the value of the first unique integer of the queue, and returns -1 if there is no such integer.
void add(int value) insert value to the queue.</code></pre><p>Example 1:<br>Input:<br>[“FirstUnique”,”showFirstUnique”,”add”,”showFirstUnique”,”add”,”showFirstUnique”,”add”,”showFirstUnique”]<br>[[[2,3,5]],[],[5],[],[2],[],[3],[]]<br>Output:<br>[null,2,null,2,null,3,null,-1]<br>Explanation:<br>FirstUnique firstUnique = new FirstUnique([2,3,5]);<br>firstUnique.showFirstUnique(); // return 2<br>firstUnique.add(5); // the queue is now [2,3,5,5]<br>firstUnique.showFirstUnique(); // return 2<br>firstUnique.add(2); // the queue is now [2,3,5,5,2]<br>firstUnique.showFirstUnique(); // return 3<br>firstUnique.add(3); // the queue is now [2,3,5,5,2,3]<br>firstUnique.showFirstUnique(); // return -1</p><p>Example 2:<br>Input:<br>[“FirstUnique”,”showFirstUnique”,”add”,”add”,”add”,”add”,”add”,”showFirstUnique”]<br>[[[7,7,7,7,7,7]],[],[7],[3],[3],[7],[17],[]]<br>Output:<br>[null,-1,null,null,null,null,null,17]<br>Explanation:<br>FirstUnique firstUnique = new FirstUnique([7,7,7,7,7,7]);<br>firstUnique.showFirstUnique(); // return -1<br>firstUnique.add(7); // the queue is now [7,7,7,7,7,7,7]<br>firstUnique.add(3); // the queue is now [7,7,7,7,7,7,7,3]<br>firstUnique.add(3); // the queue is now [7,7,7,7,7,7,7,3,3]<br>firstUnique.add(7); // the queue is now [7,7,7,7,7,7,7,3,3,7]<br>firstUnique.add(17); // the queue is now [7,7,7,7,7,7,7,3,3,7,17]<br>firstUnique.showFirstUnique(); // return 17</p><p>Example 3:<br>Input:<br>[“FirstUnique”,”showFirstUnique”,”add”,”showFirstUnique”]<br>[[[809]],[],[809],[]]<br>Output:<br>[null,809,null,-1]<br>Explanation:<br>FirstUnique firstUnique = new FirstUnique([809]);<br>firstUnique.showFirstUnique(); // return 809<br>firstUnique.add(809); // the queue is now [809,809]<br>firstUnique.showFirstUnique(); // return -1</p><p>Constraints:<br>1 &lt;= nums.length &lt;= 10^5<br>1 &lt;= nums[i] &lt;= 10^8<br>1 &lt;= value &lt;= 10^8<br>At most 50000 calls will be made to showFirstUnique and add.</p><p>Hint #1<br>Use doubly Linked list with hashmap of pointers to linked list nodes. add unique number to the linked list. When add is called check if the added number is unique then it have to be added to the linked list and if it is repeated remove it from the linked list if exists. When showFirstUnique is called retrieve the head of the linked list.</p><p>Hint #2<br>Use queue and check that first element of the queue is always unique.</p><p>Hint #3<br>Use set or heap to make running time of each function O(logn).</p></blockquote><h2 id="Solution-1-Time-Limit-Exceeded-1"><a href="#Solution-1-Time-Limit-Exceeded-1" class="headerlink" title="Solution 1 (Time Limit Exceeded)"></a>Solution 1 (Time Limit Exceeded)</h2><ul><li>暴力解失敗。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstUnique</span> &#123;</span></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; hmap;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    FirstUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        vec = nums;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) &#123;</span><br><span class="line">            hmap[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">showFirstUnique</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> i : vec) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hmap[i] == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        vec.push_back(value);</span><br><span class="line">        hmap[value]++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-2-4"><a href="#Solution-2-4" class="headerlink" title="Solution 2"></a>Solution 2</h2><div class="note danger flat"><p>後來發現這個解法是錯的，不知道為什麼 OJ 能過＠＠<br>ex: <code>[[[2,3,5]],[3],[2],[]]</code> 出來的結果會是 -1，但應該是 5。</p></div><ol><li>建一個 hashmap，紀錄每個數字出現過的次數。</li><li>建一個 list，依序存入還沒出現過的數字。這樣在找 First Unique Number 的時候只要去檢查 list 的開頭即可。</li></ol><ul><li><code>FirstUnique(int[] nums)</code>：初始化 FirstUnique 時，若數字未曾出現過，則從後面推進 list 中。<del>若出現過且在 list 的最前面，將它從 list 中移出。</del> -&gt; 只要有出現過應該都要從 list 中移出。</li><li><code>int showFirstUnique()</code>：檢查 list 最前面的數，若只出現過一次，回傳這個數，否則回傳 -1。</li><li><code>void add(int value)</code>：和初始化的做法相同。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstUnique</span> &#123;</span></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; hmap;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    FirstUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!hmap[i])</span><br><span class="line">                l.push_back(i);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (l.front() == i)</span><br><span class="line">                l.pop_front();</span><br><span class="line"></span><br><span class="line">            hmap[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">showFirstUnique</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstUnique = l.front();</span><br><span class="line">        <span class="keyword">if</span> (hmap[firstUnique] == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> firstUnique;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l.front() == value)</span><br><span class="line">            l.pop_front();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (!hmap[value])</span><br><span class="line">            l.push_back(value);</span><br><span class="line"></span><br><span class="line">        hmap[value]++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Solution-3-2"><a href="#Solution-3-2" class="headerlink" title="Solution 3"></a>Solution 3</h2><div class="note warning flat"><p>未進行 OJ 驗證。</p></div><ol><li>用 set 紀錄數字是否出現過。</li><li>用 list 依序存下 Unique Number。</li><li>用 hashmap 紀錄 Unique Number 在 list 中的位置。</li></ol><ul><li><code>FirstUnique(int[] nums)</code>：依序呼叫 <code>add(int value)</code> 函數。</li><li><code>int showFirstUnique()</code>：檢查 list 是否為空，空則回傳 -1，否則回傳 list 最前面的數。</li><li><code>void add(int value)</code>：檢查數字是否已經出現過，出現過的話從 list 和 hashmap 中刪除。若沒出現過，將數字存入 set，從後面推進 list，並將其在 list 中的位置紀錄在 hashmap 中。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FirstUnique</span> &#123;</span></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">set</span>;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator&gt; hmap;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    FirstUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            add(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">showFirstUnique</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (l.empty()) ? <span class="number">-1</span> : l.front();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">set</span>.<span class="built_in">find</span>(value) != <span class="built_in">set</span>.<span class="built_in">end</span>()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> map_iter = hmap.<span class="built_in">find</span>(value);</span><br><span class="line">            <span class="keyword">if</span> (map_iter != hmap.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator list_iter = hmap[value];</span><br><span class="line">                l.erase(list_iter);</span><br><span class="line">                hmap.erase(map_iter);  <span class="comment">// map.erase(value);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">set</span>.insert(value);</span><br><span class="line">            l.push_back(value);</span><br><span class="line">            hmap[value] = --l.<span class="built_in">end</span>();  <span class="comment">// prev(l.end());</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><hr><blockquote><ul><li><em>Source code</em>: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/george16886/30-Day-LeetCoding-Challenge/tree/master/202004"><strong>george16886@GitHub</strong></a><ul><li><input checked disabled type="checkbox"> <em>Programming language</em>: <strong>C++</strong></li><li><input checked disabled type="checkbox"> <em>Environment</em>: <strong>ubuntu 16.04</strong></li><li><input checked disabled type="checkbox"> <em>Tool</em>: <strong>Visual Studio Code</strong></li></ul></li><li><em>Category</em>: <a href="https://george16886.github.io/categories/LeetCode/30-Day-LeetCoding-Challenge/"><strong>30-Day LeetCoding Challenge</strong></a></li><li><a href="https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/"><strong><em>Original post</em></strong></a> @<a href="https://george16886.github.io"><strong>george16886’s blog</strong></a></li></ul></blockquote><center><div style="height:230px;max-width:485px"><script type="text/javascript">document.write("<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 230px; width: 100%;' src='https://button.like.co/in/embed/george16886/button?referrer="+encodeURIComponent(location.href.split("?")[0].split("#")[0])+"'></iframe>")</script><div></div></div></center></div><div><div style="text-align:center;color:#ccc;font-size:14px;font-family:cursive">----- END -----</div><div style="text-align:center;color:#ccc;font-size:14px;font-family:cursive"><i class="fas fa-fish"></i>&nbsp; 本文結束&nbsp;<i class="fas fa-bone"></i>&nbsp; 感謝閱讀&nbsp;<i class="fas fa-fish"></i></div></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:george16886@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">george16886</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/">https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Leetcode/">Leetcode</a><a class="post-meta__tags" href="/tags/Solutions/">Solutions</a><a class="post-meta__tags" href="/tags/Challenge/">Challenge</a></div><div class="post_share"><div class="social-share" data-image="/uploads/images/posts/LeetCode_Sharing.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><a class="reward-button" target="_blank" rel="external nofollow noopener noreferrer" href="https://paypal.me/george16886" title="Thank you soooo much!"><i class="fas fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code-img" src="https://i.imgur.com/VJOq9UG.jpg" alt="paypal.me"><div class="post-qr-code-desc">paypal.me</div></li></ul></div></a></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-right"><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-5/"><img class="prev-cover" src="/uploads/images/posts/LeetCode_Sharing.jpg" onerror="onerror=null,src="https://i.imgur.com/1avfqAF.gif""><div class="pagination-info"><div class="label">Next Post</div><div class="prev_info">30-Day LeetCoding Challenge 2020 April Week 5</div></div></a></div><div class="next-post pull-left"><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-3/"><img class="next-cover" src="/uploads/images/posts/LeetCode_Sharing.jpg" onerror="onerror=null,src="https://i.imgur.com/1avfqAF.gif""><div class="pagination-info"><div class="label">Previous Post</div><div class="next_info">30-Day LeetCoding Challenge 2020 April Week 3</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-5/" title="30-Day LeetCoding Challenge 2020 April Week 5"><img class="cover" src="/uploads/images/posts/LeetCode_Sharing.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-29</div><div class="title">30-Day LeetCoding Challenge 2020 April Week 5</div></div></a></div><div><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-3/" title="30-Day LeetCoding Challenge 2020 April Week 3"><img class="cover" src="/uploads/images/posts/LeetCode_Sharing.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-16</div><div class="title">30-Day LeetCoding Challenge 2020 April Week 3</div></div></a></div><div><a href="/30-Day-LeetCoding-Challenge-2020-April-Week-2/" title="30-Day LeetCoding Challenge 2020 April Week 2"><img class="cover" src="/uploads/images/posts/LeetCode_Sharing.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-08</div><div class="title">30-Day LeetCoding Challenge 2020 April Week 2</div></div></a></div></div></div><hr><div id="post-comment-md"><div class="comment-head-md"><div class="comment-headline-md"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="vcomment" id="vcomment"></div></div><div id="post-comment"><div class="comment-head"><div class="comment-switch"><span class="first-comment">Disqus</span><label><input id="switch-comments-btn" type="checkbox"><span class="slider"></span></label><span class="second-comment">Facebook</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div><div><div class="fb-comments" data-colorscheme="light" data-numposts="10" data-order-by="social" data-width="100%"></div></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 <i id="heartbeat" class="fas fa-ghost"></i> george16886</div><span id="timeDate">load date...</span><span id="times">load timing...</span><script>var now=new Date;function createtime(){var n=new Date("03/24/2020 00:03:24");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已努力存活 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小時 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script><div class="framework-info"><a href="https://george16886.github.io"><span>Back to Blog</span></a><span class="footer-separator">|</span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/george16886"><span>Go to GitHub</span></a></div><div class="footer_custom_text"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://paypal.me/george16886">Donate <font color="red">❤</font> Danke</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="far fa-moon"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment-md" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="Go to bottom"><i class="fas fa-arrow-down"></i></button></div></section><div id="cat" title="Page Configurations done and back to top Meow~"></div><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>document.getElementsByClassName("mermaid").length&&(window.mermaidJsLoad?mermaid.init():$.getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js",function(){window.mermaidJsLoad=!0,mermaid.initialize({theme:"dark"})}))</script><script>function loadValine () {
  function initValine () {
    const initData = {
      el: '#vcomment',
      appId: 'g0LQ386PSE684M2izSs3C7Yt-MdYXbMMI',
      appKey: 'MfXWslyjNtanXuIcFjxoqtNC',
      placeholder: 'Leave your comments &lt;3',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      tagMeta: ['原PO','鬼鬼','訪客'],
      master: ['e999adad2e12214a318ce446b3825cef'],
      friends: ['77f72f0a89f59075e108a565b35d8069'],
    }

    if (true) { 
      initData.requiredFields= ('nick'.split(','))
    }

    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('/js/third-party/Valine.min.js', initValine)
}

//- if ('Disqus' === 'Valine' || !true) {
//-   if (true) btf.loadComment(document.querySelector('#vcomment'),loadValine)
//-   else setTimeout(() => loadValine(), 0)
//- } else {
//-   function loadOtherComment () {
//-     loadValine()
//-   }
//- }


//- loadComment(document.querySelector('#vcomment'),loadValine)
setTimeout(() => loadValine(), 0)</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://george16886.github.io/30-Day-LeetCoding-Challenge-2020-April-Week-4/'
    this.page.identifier = '30-Day-LeetCoding-Challenge-2020-April-Week-4/'
    this.page.title = '30-Day LeetCoding Challenge 2020 April Week 4'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://george16886-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}</script><div id="fb-root"></div><script>function loadFBComment () {
  var themeNow = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'
  document.getElementsByClassName('fb-comments')[0].setAttribute('data-colorscheme',themeNow)

  if (typeof FB === 'object') FB.XFBML.parse()
  else {
    let ele = document.createElement('script')
    ele.setAttribute('src','https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v7.0')
    ele.setAttribute('async', 'true')
    ele.setAttribute('defer', 'true')
    ele.setAttribute('crossorigin', 'anonymous')
    document.getElementById('fb-root').insertAdjacentElement('afterbegin',ele)
  }   
}

//- if ('Disqus' === 'Facebook Comments' || !true) {
if ('Disqus' === 'Facebook' || !true) {
  if (true) btf.loadComment(document.querySelector('#post-comment .fb-comments'), loadFBComment)
  else loadFBComment()
} else {
  function loadOtherComment () {
    loadFBComment()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>